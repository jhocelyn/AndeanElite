<app-banner
  [backgroundImage]="'assets/img/destinations/cusco/destinations-machu-picchu.webp'"
  [title]="'SECTION_BLOG.TITLE' | translate"
></app-banner>

<div class="flex flex-col items-center px-4 py-10 max-w-7xl mx-auto">
  <p class="text-lg text-gray-700 text-center mb-10">
    {{ 'SECTION_BLOG.DESCRIPTION' | translate }}
  </p>

  <div class="flex flex-col md:flex-row w-full gap-8">

    <!-- Contenido principal -->
    <section class="flex-1">
      <!-- Noticias filtradas -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-10">
        <div
          *ngFor="let news of filteredNews"
          class="border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300"
        >
          <img [src]="news.image" alt="{{ news.title }}" class="w-full h-48 object-cover" />
          <div class="p-4">
            <h3 class="text-lg font-semibold mb-1">{{ news.title }}</h3>
            <p class="text-sm text-gray-500 mb-2">{{ news.category }} - {{ news.date | date:'mediumDate' }}</p>
          </div>
        </div>
      </div>

      <!-- Guía Cusco -->
      <h2 class="text-2xl font-bold mb-4">  {{ 'SECTION_BLOG.GUIDE_CUSCO' | translate }}</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-6">
        <div
          *ngFor="let news of getNewsByCity('Cusco')"
          class="border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300"
        >
          <img [src]="news.image" alt="{{ news.title }}" class="w-full h-40 object-cover" />
          <div class="p-3">
            <h4 class="font-semibold mb-1">{{ news.title }}</h4>
            <p class="text-sm text-gray-600">{{ news.category }} - {{ news.date | date:'mediumDate' }}</p>
          </div>
        </div>
      </div>
      <button
        (click)="showMore('Perú')"
        class="px-5 py-2 bg-[#042a4e] text-white rounded-md hover:bg-blue-900 transition-colors"
      >
        {{ 'SECTION_BLOG.MORE_INFO' | translate }}
      </button>

      <!-- Guía Arequipa -->
      <h2 class="text-2xl font-bold mt-10 mb-4">  {{ 'SECTION_BLOG.GUIDE_AREQUIPA' | translate }}</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-6">
        <div
          *ngFor="let news of getNewsByCity('Arequipa')"
          class="border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300"
        >
          <img [src]="news.image" alt="{{ news.title }}" class="w-full h-40 object-cover" />
          <div class="p-3">
            <h4 class="font-semibold mb-1">{{ news.title }}</h4>
            <p class="text-sm text-gray-600">{{ news.category }} - {{ news.date | date:'mediumDate' }}</p>
          </div>
        </div>
      </div>
      <button
        (click)="showMore('Arequipa')"
        class="px-5 py-2 bg-[#042a4e] text-white rounded-md hover:bg-blue-900 transition-colors"
      >
        {{ 'SECTION_BLOG.MORE_INFO' | translate }}
      </button>
    </section>


    <!-- Amazon -->


    <!-- -->

    <!-- Filtros -->
    <aside class="w-full md:w-1/4 bg-[#042a4e] p-6 rounded-lg text-white">
      <h3 class="text-lg font-bold mb-4">  {{ 'SECTION_BLOG.FILTER_TITLE' | translate }}</h3>

      <!-- Búsqueda -->
      <input
        type="text"
        [placeholder]="'SECTION_BLOG.SEARCH' | translate"
        [(ngModel)]="searchTerm"
        (input)="applyFilters()"
        class="mb-4 w-full px-4 py-2 text-black border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      />

      <!-- Filtro por ciudad -->
      <h4 class="text-sm font-semibold mb-2">  {{ 'SECTION_BLOG.CITY' | translate }}</h4>
      <div class="flex flex-wrap gap-2 mb-4">
        <button
          *ngFor="let city of cities"
          (click)="setCityFilter(city)"
          [ngClass]="{
        'bg-white text-[#042a4e]': filterCity === city,
        'bg-[#1f4068] text-white': filterCity !== city
      }"
          class="px-3 py-1 rounded-full text-sm font-medium hover:bg-white hover:text-[#042a4e] transition"
        >
          {{ city || ('SECTION_BLOG.ALL' | translate) }}
        </button>
      </div>

      <!-- Filtro por categoría -->
      <h4 class="text-sm font-semibold mb-2">  {{ 'SECTION_BLOG.CATEGORY' | translate }}</h4>
      <div class="flex flex-wrap gap-2">
        <button
          *ngFor="let category of categories"
          (click)="setCategoryFilter(category)"
          [ngClass]="{
        'bg-white text-[#042a4e]': filterCategory === category,
        'bg-[#1f4068] text-white': filterCategory !== category
      }"
          class="px-3 py-1 rounded-full text-sm font-medium hover:bg-white hover:text-[#042a4e] transition"
        >
          {{ category || ('SECTION_BLOG.ALL' | translate) }}
        </button>
      </div>
    </aside>
  </div>
</div>
